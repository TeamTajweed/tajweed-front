<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet"> 

<div class="h-screen w-full relative flex overflow-hidden">  
    <div class="w-full h-full ">
      <!--flex flex-col justify-between -->
      <!-- Header -->
      <header class="h-28 w-full flex items-center relative justify-end shadow-2xl">
        <app-navbarstudents></app-navbarstudents>
      </header>
  
      <!-- Main -->
      <main class="max-w-full h-full bg-[url('/assets/images/backgroundQuran.jpg')]">
              <!--max-w-full h-full flex relative overflow-y-hidden -->
        <!-- Container -->
        <div class="">
                        <!--h-full w-full m-4 flex flex-wrap items-start justify-start rounded-tl grid-flow-col auto-cols-max gap-4  -->

          <div class="max-w-full h-full rounded-lg flex-shrink-0 flex-grow ">
            <div class="container">
              <div class="massiveForm gap-8 columns-3">
                        <!-- Composant de sélection -->
                  <div class=" shadow-2xl flex flex-col grow">
                    <p>Sélection</p>   
                    <div class="pb-10">
                      <label for="verseEnd" class="block mb-2 text-bg font-medium text-white">Choix de la sourate</label>
                      <div class="relative inline-flex">
                        <svg class="w-2 h-2 absolute top-0 right-0 m-4 pointer-events-none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 412 232"><path d="M206 171.144L42.678 7.822c-9.763-9.763-25.592-9.763-35.355 0-9.763 9.764-9.763 25.592 0 35.355l181 181c4.88 4.882 11.279 7.323 17.677 7.323s12.796-2.441 17.678-7.322l181-181c9.763-9.764 9.763-25.592 0-35.355-9.763-9.763-25.592-9.763-35.355 0L206 171.144z" fill="#FFF" fill-rule="nonzero"/></svg>
                        <select [(ngModel)]="selectedSourat" (ngModelChange)="onSurahSelect($event)" class="border border-gray-300 rounded-full text-gray-600 h-10 pl-5 pr-10 bg-white hover:border-gray-400 focus:outline-none appearance-none">
                          <option  *ngFor="let sourate of sourates" value="{{ sourate.id }}">{{sourate.id}} - {{sourate.name}}</option>
                        </select>
                      </div>
                    </div>            
                   <div class="pb-10">
                    <label for="verseEnd" class="block mb-2 text-bg font-medium text-white">Verset de départ</label>
                    <div class="relative inline-flex">
                      <svg class="w-2 h-2 absolute top-0 right-0 m-4 pointer-events-none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 412 232"><path d="M206 171.144L42.678 7.822c-9.763-9.763-25.592-9.763-35.355 0-9.763 9.764-9.763 25.592 0 35.355l181 181c4.88 4.882 11.279 7.323 17.677 7.323s12.796-2.441 17.678-7.322l181-181c9.763-9.764 9.763-25.592 0-35.355-9.763-9.763-25.592-9.763-35.355 0L206 171.144z" fill="#FFF" fill-rule="nonzero"/></svg>
                      <select id="verseStart" [disabled]="selectedSourat == undefined" [(ngModel)]="selectedVerseStart" (ngModelChange)="onVerseSelect($event)" class="border border-gray-300 rounded-full text-gray-600 h-10 pl-5 pr-10 bg-white hover:border-gray-400 focus:outline-none appearance-none">
                        <option  *ngFor="let verse of listVersesStart" value="{{ verse }}">Verset {{verse}}</option>
                      </select>
                    </div>
                   </div>
                   <div class="">
                    <label for="verseEnd" class="block mb-2 text-bg font-medium text-white">Verset de fin</label>
                    <div class="relative inline-flex">
                      <svg class="w-2 h-2 absolute top-0 right-0 m-4 pointer-events-none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 412 232"><path d="M206 171.144L42.678 7.822c-9.763-9.763-25.592-9.763-35.355 0-9.763 9.764-9.763 25.592 0 35.355l181 181c4.88 4.882 11.279 7.323 17.677 7.323s12.796-2.441 17.678-7.322l181-181c9.763-9.764 9.763-25.592 0-35.355-9.763-9.763-25.592-9.763-35.355 0L206 171.144z" fill="#FFF" fill-rule="nonzero"/></svg>
                      <select id="verseEnd" [disabled]="selectedVerseStart == undefined"  [(ngModel)]="selectedVerseEnd" class="border border-gray-300 rounded-full text-gray-600 h-10 pl-5 pr-10 bg-white hover:border-gray-400 focus:outline-none appearance-none">
                        <option  *ngFor="let verse of listVersesEnd" value="{{ verse }}">Verset {{verse}}</option>
                      </select>
                    </div>
                   </div>
                  </div>

                   <!-- Composant d'enregistrement 
                  *ngIf="canRecord"
                  *ngIf="isRecording && !blobUrl"
                  *ngIf="!isRecording && blobUrl" 
                  *ngIf="!isRecording && blobUrl" 
                  -->
                  <div class="shadow-2xl grow">
                    <p>Enregistrement</p>               
                    <div>
                      <button class=" border-solid"  (click)="startRecording()">Enregistrer</button>
                      <button class="buttonGlass border-solid"  (click)="stopRecording()">Stop</button>
                      <button class="buttonGlass border-solid" (click)="clearRecordedData()">Effacer</button>   
                      <button class="buttonGlass border-solid" (click)="addRecordToRecords()">Ajouter</button>

                      <p>{{recordedTime}} </p>
                    </div>
                  </div>

                   <!-- Composant d'envoi -->
                  <div class="shadow-2xl grow">
                    <p>Envoi</p>               
                    <div class="flex flex-col items-center justify-center">
                      <div class="max-w-xl bg-green rounded-lg shadow-lg overflow-hidden">
                        <div class="relative">
                          <img src="../../assets/images/sourahBG.jpg" class="object-cover flex">
                          <div class="absolute p-4 inset-0 flex flex-col justify-end bg-gradient-to-b from-transparent to-gray-900 backdrop backdrop-blur-5 text-white">
                            <h3 class="font-bold">Sourate {{selectedSourateName}}</h3>
                            <span class="opacity-70">Versets de {{selectedVerseStart}} à {{selectedVerseEnd}}</span>
                          </div>
                        </div>
                        <div>
                          <div class="relative h-1 bg-gray-200">
                            <div class="absolute h-full w-1/2 bg-green-500 flex items-center justify-end">
                              <div class="rounded-full w-3 h-3 bg-white shadow"></div>
                            </div>
                          </div>
                        </div>
                        <div class="flex justify-between text-xs font-semibold text-gray-500 px-4 py-2">
                          <div>
                            1:50
                          </div>
                          <div class="flex space-x-3 p-2">
                            <button class="focus:outline-none">
                              <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line></svg>
                            </button>
                            <button class="rounded-full w-8 h-8 flex items-center justify-center pl-0.5 ring-2 ring-gray-100 focus:outline-none">
                              <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                            </button>
                            <button class="focus:outline-none">
                              <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line></svg>
                            </button>
                          </div>
                          <div>11</div>
                        </div>
                        <ul class="text-xs sm:text-base divide-y border-t cursor-default">
                          <li *ngFor="let audio of audioList" class="flex items-center space-x-3 hover:bg-[#15817cef]">
                            <button (click)="playAudio(audio.url!)" class="p-3 group focus:outline-none">
                              <svg class="w-4 h-4 group-hover:text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                            </button>
                            <div class="flex-1">
                              Verset {{audio.numberVerse}}
                            </div>
                            <div class="text-xs text-gray-400">
                              0:15
                            </div>
                            <button class="focus:outline-none pr-4 group">
                              <svg class="w-4 h-4 group-hover:text-green-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 15v4c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-4M17 9l-5 5-5-5M12 12.8V2.5"/></svg>
                            </button>
                        </ul>
                      </div>
                    </div>
                  </div>
              </div>
              
              <div class="drops">
                <div class="drop drop-1"></div>
                <div class="drop drop-2"></div>
                <div class="drop drop-3"></div>
                <div class="drop drop-4"></div>
                <div class="drop drop-5"></div>
                <div class="drop drop-6"></div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  
  </div>